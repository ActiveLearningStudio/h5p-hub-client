{"version":3,"sources":["webpack:///webpack/bootstrap 63ae6b2f4178dac4ffda","webpack:///./src/entries/dist.js","webpack:///./src/scripts/hub.js","webpack:///./src/scripts/hub-view.js","webpack:///./~/h5p-sdk/src/scripts/components/panel.js","webpack:///./~/h5p-sdk/src/scripts/utils/elements.js","webpack:///./~/h5p-sdk/src/scripts/utils/functional.js","webpack:///./~/h5p-sdk/src/scripts/components/tab-panel.js","webpack:///./src/scripts/content-type-section/content-type-section.js","webpack:///./src/scripts/content-type-section/content-type-section-view.js","webpack:///./src/scripts/mixins/eventful.js","webpack:///./src/scripts/search/search.js","webpack:///./src/scripts/hub-services.js","webpack:///./src/scripts/content-type-list/content-type-list.js","webpack:///./src/scripts/content-type-list/content-type-list-view.js","webpack:///./src/scripts/content-type-detail/content-type-detail.js","webpack:///./src/scripts/content-type-detail/content-type-detail-view.js","webpack:///./src/scripts/upload-section/upload-section.js"],"names":["H5P","HubClient","require","default","Hub","state","contentTypeSection","uploadSection","services","rootUrl","propagate","on","id","view","closePanel","contentType","then","title","setTitle","sectionId","addTab","content","getElement","selected","initTabPanel","HubView","renderTabPanel","renderPanel","titleElement","setAttribute","innerHTML","expanded","document","createElement","className","toString","bodyElement","appendChild","tabContainerElement","style","height","rootElement","tablist","tabListWrapper","tabId","tabPanelId","tab","tabPanel","init","ATTRIBUTE_ARIA_EXPANDED","selectExpandable","getAriaControls","isExpanded","setAriaHiddenTrue","setAriaHiddenFalse","toggleBodyVisibility","mutation","titleEl","target","scrollHeight","element","bodyId","bodyEl","querySelector","observer","MutationObserver","observe","attributes","attributeOldValue","attributeFilter","addEventListener","event","getAttribute","name","el","value","removeAttribute","hasAttribute","attributeEquals","toggleAttribute","parent","child","selector","querySelectorAll","curry","fn","arity","length","f1","args","Array","prototype","slice","call","arguments","apply","f2","args2","concat","compose","fns","reduce","f","g","forEach","arr","map","filter","some","contains","indexOf","without","values","inverseBooleanString","bool","getWhereRoleIsTab","getWhereRoleIsTabPanel","hideAll","show","setAriaSelectedFalse","setAllAriaSelectedFalse","tabs","tabPanels","targetTabPanel","ContentTypeSection","searchService","contentTypeList","contentTypeDetail","hide","loadById","onInputFieldKeyDown","text","search","update","bind","contentTypes","ContentBrowserView","renderMenuGroup","callback","scope","inputFieldElement","index","menubar","menuItems","renderMenuItem","menuItemListWrapper","menuTitle","menu","menuGroup","renderMenu","inputGroup","renderInputGroup","inputField","inputButton","buttonTitle","renderInputField","renderInputButton","inputGroupWrapper","Eventful","listeners","type","listener","trigger","push","fire","triggers","every","types","eventful","self","hasSubString","needle","haystack","toLowerCase","filterByQuery","query","shortDescription","SearchService","HubServices","fetch","result","json","ContentTypeList","updateList","ATTRIBUTE_CONTENT_TYPE_ID","relayClickEventAs","preventDefault","ContentTypeListView","listElement","childNodes","node","remove","renderContentTypeList","renderContentTypeRow","image","icon","button","description","row","ContentTypeDetail","install","installContentType","console","debug","setId","setLongDescription","longDescription","setImage","ContentTypeDetailView","imageElement","backButtonElement","longDescriptioneElement","demoButton","useButton","installButton","licencePanel","createPanel","panelGroupElement","body","headerEl","bodyInnerEl","panelEl","src","UploadSection"],"mappings":"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","file":"h5p-hub-client.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 63ae6b2f4178dac4ffda","// Load library\nH5P = H5P || {};\nH5P.HubClient = require('../scripts/hub').default;\n\n\n// WEBPACK FOOTER //\n// ./src/entries/dist.js","import HubView from './hub-view';\nimport ContentTypeSection from './content-type-section/content-type-section';\nimport UploadSection from './upload-section/upload-section';\nimport HubServices from './hub-services';\nimport { Eventful } from './mixins/eventful';\n\n/**\n * @typedef {object} HubState\n * @property {string} title\n * @property {string} sectionId\n * @property {boolean} expanded\n */\n/**\n * @class\n * @mixes Eventful\n */\nexport default class Hub {\n  /**\n   * @param {HubState} state\n   */\n  constructor(state){\n    this.state = state;\n\n    // add event system\n    Object.assign(this, Eventful());\n\n    // controllers\n    this.contentTypeSection = new ContentTypeSection();\n    this.uploadSection = new UploadSection();\n\n    // services\n    this.services = new HubServices({\n      rootUrl: '/test/mock/api'\n    });\n\n    // propagate controller events\n    this.propagate(['select'], this.contentTypeSection);\n\n    // handle events\n    this.contentTypeSection.on('select', ({id}) => {\n      this.view.closePanel();\n      this.services.contentType(id)\n        .then(({title}) => this.view.setTitle(title));\n    });\n\n    // views\n    this.view = new HubView({\n      sectionId: 'create-content'\n    });\n\n    // tab panel\n    this.view.addTab({\n      title: 'Create Content',\n      id: 'create-content',\n      content: this.contentTypeSection.getElement(),\n      selected: true\n    });\n\n    this.view.addTab({\n      title: 'Upload',\n      id: 'upload-section',\n      content: this.uploadSection.getElement()\n    });\n\n    this.view.initTabPanel();\n  }\n\n  /**\n   * Returns the root element in the view\n   *\n   * @return {HTMLElement}\n   */\n  getElement() {\n    return this.view.getElement();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/hub.js","import initPanel from \"../../node_modules/h5p-sdk/src/scripts/components/panel\"\nimport initTabPanel from \"../../node_modules/h5p-sdk/src/scripts/components/tab-panel\"\n\nexport default class HubView {\n  /**\n   * @param {HubState} state\n   */\n  constructor(state) {\n    this.renderTabPanel(state);\n    this.renderPanel(state);\n  }\n\n  /**\n   * Closes the panel\n   */\n  closePanel() {\n    this.titleElement.setAttribute('aria-expanded', 'false')\n  }\n\n  /**\n   * Sets the title\n   *\n   * @param {string} title\n   */\n  setTitle(title) {\n    this.titleElement.innerHTML = title;\n  }\n\n  /**\n   * Creates the dom for the panel\n   *\n   * @param {string} title\n   * @param {string} sectionId\n   * @param {boolean} expanded\n   */\n  renderPanel({title, sectionId, expanded = false}) {\n    /**\n     * @type {HTMLElement}\n     */\n    this.titleElement = document.createElement('div');\n    this.titleElement.className += \"panel-header icon-hub-icon\";\n    this.titleElement.setAttribute('aria-expanded', expanded.toString());\n    this.titleElement.setAttribute('aria-controls', `panel-body-${sectionId}`);\n    this.titleElement.innerHTML = title || '';\n\n    /**\n     * @type {HTMLElement}\n     */\n    this.bodyElement = document.createElement('div');\n    this.bodyElement.className += \"panel-body\";\n    this.bodyElement.setAttribute('aria-hidden', (!expanded).toString());\n    this.bodyElement.id = `panel-body-${sectionId}`;\n    this.bodyElement.appendChild(this.tabContainerElement);\n    if(!expanded){\n      this.bodyElement.style.height = \"0\";\n    }\n\n    /**\n     * @type {HTMLElement}\n     */\n    this.rootElement = document.createElement('div');\n    this.rootElement.className += `h5p-hub h5p-section-${sectionId} panel`;\n    this.rootElement.appendChild(this.titleElement);\n    this.rootElement.appendChild(this.bodyElement);\n\n    initPanel(this.rootElement);\n  }\n\n  /**\n   * Creates the dom for the tab panel\n   */\n  renderTabPanel() {\n    /**\n     * @type {HTMLElement}\n     */\n    this.tablist = document.createElement('ul');\n    this.tablist.className += \"tablist\";\n    this.tablist.setAttribute ('role', 'tablist');\n\n    /**\n     * @type {HTMLElement}\n     */\n    this.tabListWrapper = document.createElement('nav');\n    this.tabListWrapper.appendChild(this.tablist);\n\n    /**\n     * @type {HTMLElement}\n     */\n    this.tabContainerElement = document.createElement('div');\n    this.tabContainerElement.className += 'tab-panel';\n    this.tabContainerElement.appendChild(this.tabListWrapper);\n  }\n\n  /**\n   * Adds a tab\n   *\n   * @param {string} title\n   * @param {string} id\n   * @param {HTMLElement} content\n   * @param {boolean} selected\n   */\n  addTab({title, id, content, selected = false}) {\n    const tabId = `tab-${id}`;\n    const tabPanelId = `tab-panel-${id}`;\n\n    const tab = document.createElement('li');\n    tab.className += 'tab';\n    tab.id = tabId;\n    tab.setAttribute('aria-controls', tabPanelId);\n    tab.setAttribute('aria-selected', selected.toString());\n    tab.setAttribute('role', 'tab');\n    tab.innerHTML = title;\n\n    const tabPanel = document.createElement('div');\n    tabPanel.id = tabPanelId;\n    tabPanel.className += 'tabpanel';\n    tabPanel.setAttribute('aria-lablledby', tabId);\n    tabPanel.setAttribute('aria-hidden', (!selected).toString());\n    tabPanel.setAttribute('role', 'tabpanel');\n    tabPanel.appendChild(content);\n\n    this.tablist.appendChild(tab);\n    this.tabContainerElement.appendChild(tabPanel);\n  }\n\n  initTabPanel() {\n    initTabPanel(this.tabContainerElement);\n  }\n\n  /**\n   * Sets the section\n   *\n   * @param {string} sectionId\n   */\n  setSection(sectionId) {\n    this.rootElement.className = `h5p-hub h5p-section-${sectionId} panel`;\n  }\n\n  /**\n   * Returns the root html element\n   *\n   * @return {HTMLElement}\n   */\n  getElement() {\n    return this.rootElement;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/hub-view.js","import {getAttribute, setAttribute, removeAttribute, attributeEquals, querySelector, toggleAttribute} from '../utils/elements';\nimport {curry, forEach, inverseBooleanString} from '../utils/functional';\n\n/**\n * @const\n * @type {string}\n */\nconst ATTRIBUTE_ARIA_EXPANDED = \"aria-expanded\";\n\n/**\n * @type {function}\n */\nconst selectExpandable = querySelector('[aria-expanded]');\n\n/**\n * @type {function}\n */\nconst getAriaControls = getAttribute('aria-controls');\n\n/**\n * @type {function}\n */\nconst isExpanded = attributeEquals(ATTRIBUTE_ARIA_EXPANDED, 'true');\n\n/**\n * @type {function}\n */\nconst setAriaHiddenTrue = setAttribute('aria-hidden', 'true');\n\n/**\n * @type {function}\n */\nconst setAriaHiddenFalse = setAttribute('aria-hidden', 'false');\n\n/**\n * @type {Function}\n */\nconst toggleBodyVisibility = curry(function(bodyElement, mutation) {\n  const titleEl = mutation.target;\n\n  if(isExpanded(titleEl)) {\n    setAriaHiddenFalse(bodyElement);\n    bodyElement.style.height = `${bodyElement.scrollHeight}px`;\n  }\n  else {\n    setAriaHiddenTrue(bodyElement);\n    bodyElement.style.height = \"0\";\n  }\n});\n\n/**\n * Initializes a panel\n *\n * @param {HTMLElement} element\n * @return {HTMLElement}\n */\nexport default function init(element) {\n  const titleEl = selectExpandable(element);\n  const bodyId = getAriaControls(titleEl);\n  const bodyEl = element.querySelector(`#${bodyId}`);\n\n  if(titleEl) {\n    // set observer on title for aria-expanded\n    let observer = new MutationObserver(forEach(toggleBodyVisibility(bodyEl)));\n\n    observer.observe(titleEl, {\n      attributes: true,\n      attributeOldValue: true,\n      attributeFilter: [ATTRIBUTE_ARIA_EXPANDED]\n    });\n\n    // Set click listener that toggles aria-expanded\n    titleEl.addEventListener('click', function(event) {\n      toggleAttribute(ATTRIBUTE_ARIA_EXPANDED, event.target);\n    });\n  }\n\n  return element;\n}\n\n\n// WEBPACK FOOTER //\n// ./~/h5p-sdk/src/scripts/components/panel.js","import {curry, inverseBooleanString} from './functional'\n\n/**\n * Get an attribute value from element\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n * @return {string}\n */\nexport const getAttribute = curry(function (name, el) {\n  return el.getAttribute(name);\n});\n\n/**\n * Set an attribute on a html element\n *\n * @param {string} name\n * @param {string} value\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const setAttribute = curry(function (name, value, el) {\n  el.setAttribute(name, value);\n});\n\n/**\n * Remove attribute from html element\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const removeAttribute = curry(function (name, el) {\n  el.removeAttribute(name);\n});\n\n/**\n * Check if element has an attribute\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n * @return {boolean}\n */\nexport const hasAttribute = curry(function (name, el) {\n  return el.hasAttribute(name);\n});\n\n/**\n * Check if element has an attribute that equals\n *\n * @param {string} name\n * @param {string} value\n * @param {HTMLElement} el\n *\n * @function\n * @return {boolean}\n */\nexport const attributeEquals = curry(function (name, value, el) {\n  return el.getAttribute(name) === value;\n});\n\n/**\n * Toggles an attribute between 'true' and 'false';\n *\n * @param {string} name\n * @param {HTMLElement} el\n *\n * @function\n */\nexport const toggleAttribute = curry(function (name, el) {\n  const value = getAttribute(name, el);\n  setAttribute(name, inverseBooleanString(value), el);\n});\n\n/**\n * The appendChild() method adds a node to the end of the list of children of a specified parent node.\n *\n * @param {HTMLElement} parent\n * @param {HTMLElement} child\n *\n * @function\n * @return {HTMLElement}\n */\nexport const appendChild = curry(function (parent, child) {\n  return parent.appendChild(child);\n});\n\n/**\n * Returns the first element that is a descendant of the element on which it is invoked\n * that matches the specified group of selectors.\n *\n * @param {string} selector\n * @param {HTMLElement} el\n *\n * @function\n * @return {HTMLElement}\n */\nexport const querySelector = curry(function (selector, el) {\n  return el.querySelector(selector);\n});\n\n/**\n * Returns a non-live NodeList of all elements descended from the element on which it\n * is invoked that matches the specified group of CSS selectors.\n *\n * @param {string} selector\n * @param {HTMLElement} el\n *\n * @function\n * @return {NodeList}\n */\nexport const querySelectorAll = curry(function (selector, el) {\n  return el.querySelectorAll(selector);\n});\n\n\n// WEBPACK FOOTER //\n// ./~/h5p-sdk/src/scripts/utils/elements.js","/**\n * Returns a curried version of a function\n *\n * @param {function} fn\n *\n * @public\n *\n * @return {function}\n */\nexport const curry = function(fn) {\n  const arity = fn.length;\n\n  return function f1() {\n    const args = Array.prototype.slice.call(arguments, 0);\n    if (args.length >= arity) {\n      return fn.apply(null, args);\n    }\n    else {\n      return function f2() {\n        const args2 = Array.prototype.slice.call(arguments, 0);\n        return f1.apply(null, args.concat(args2));\n      }\n    }\n  };\n};\n\n/**\n * Compose functions together, executing from right to left\n *\n * @param {function...} fns\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const compose = (...fns) => fns.reduce((f, g) => (...args) => f(g(...args)));\n\n/**\n * Applies a function to each element in an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const forEach = curry(function (fn, arr) {\n  arr.forEach(fn);\n});\n\n/**\n * Maps a function to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const map = curry(function (fn, arr) {\n  return arr.map(fn);\n});\n\n/**\n * Applies a filter to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const filter = curry(function (fn, arr) {\n  return arr.filter(fn);\n});\n\n/**\n * Applies a some to an array\n *\n * @param {function} fn\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const some = curry(function (fn, arr) {\n  return arr.some(fn);\n});\n\n/**\n * Returns true if an array contains a value\n *\n * @param {*} value\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const contains = curry(function (value, arr) {\n  return arr.indexOf(value) != -1;\n});\n\n/**\n * Returns an array without the supplied values\n *\n * @param {Array} values\n * @param {Array} arr\n *\n * @function\n * @public\n *\n * @return {function}\n */\nexport const without = curry(function (values, arr) {\n  return filter(value => !contains(value, values), arr)\n});\n\n/**\n * Takes a string that is either 'true' or 'false' and returns the opposite\n *\n * @param {string} bool\n *\n * @public\n * @return {string}\n */\nexport const inverseBooleanString = function (bool) {\n  return (bool !== 'true').toString();\n};\n\n\n// WEBPACK FOOTER //\n// ./~/h5p-sdk/src/scripts/utils/functional.js","import {getAttribute, setAttribute, removeAttribute, attributeEquals, querySelector, querySelectorAll} from '../utils/elements';\nimport {forEach} from '../utils/functional';\n\n/**\n * @type {function}\n */\nconst getWhereRoleIsTab = querySelectorAll('[role=\"tab\"]');\n\n/**\n * @type {function}\n */\nconst getWhereRoleIsTabPanel = querySelectorAll('[role=\"tabpanel\"]');\n\n/**\n * @type {function}\n */\nconst hideAll = forEach(setAttribute('aria-hidden', 'true'));\n\n/**\n * @type {function}\n */\nconst show = setAttribute('aria-hidden', 'false');\n\n/**\n * @type {function}\n */\nconst setAriaSelectedFalse = setAttribute('aria-selected', 'false');\n\n/**\n * @type {function}\n */\nconst setAllAriaSelectedFalse = forEach(setAriaSelectedFalse);\n\nexport default function init(element) {\n  const tabs = getWhereRoleIsTab(element);\n  const tabPanels = getWhereRoleIsTabPanel(element);\n\n  tabs.forEach(function (tab) {\n    tab.addEventListener('click', function (event) {\n\n      setAllAriaSelectedFalse(tabs);\n      event.target.setAttribute('aria-selected', 'true');\n\n      hideAll(tabPanels);\n\n      let tabPanelId = event.target.getAttribute('aria-controls');\n      let targetTabPanel = element.querySelector(`#${tabPanelId}`);\n\n      show(element.querySelector(`#${tabPanelId}`));\n    });\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/h5p-sdk/src/scripts/components/tab-panel.js","import ContentTypeSectionView from \"./content-type-section-view\";\nimport SearchService from \"../search/search\";\nimport ContentTypeList from '../content-type-list/content-type-list';\nimport ContentTypeDetail from '../content-type-detail/content-type-detail';\nimport {Eventful} from '../mixins/eventful';\n\n/**\n * @class ContentTypeSection\n * @mixes Eventful\n */\nexport default class ContentTypeSection {\n  constructor(state) {\n    // add event system\n    Object.assign(this, Eventful());\n\n    // add view\n    this.view = new ContentTypeSectionView(state);\n\n    // controller\n    this.searchService = new SearchService();\n    this.contentTypeList = new ContentTypeList();\n    this.contentTypeDetail = new ContentTypeDetail();\n\n    // set sub view (TODO find other way)\n    this.view.getElement().appendChild(this.contentTypeList.getElement());\n    this.view.getElement().appendChild(this.contentTypeDetail.getElement());\n\n    // propagate events\n    this.propagate(['select'], this.contentTypeList);\n    this.propagate(['select'], this.contentTypeDetail);\n\n    // registers listeners\n    this.contentTypeList.on('row-selected', ({id}) => {\n      this.contentTypeList.hide();\n      this.contentTypeDetail.loadById(id);\n      this.contentTypeDetail.show();\n    });\n\n    this.contentTypeDetail.on('close', () => {\n      this.contentTypeDetail.hide();\n      this.contentTypeList.show();\n    });\n\n    this.view.onInputFieldKeyDown(function(text){\n      this.searchService.search(text)\n        .then(this.contentTypeList.update.bind(this.contentTypeList));\n    }, this);\n\n    // initialize by search\n    this.searchService.search(\"\")\n      .then(contentTypes => {\n        this.contentTypeList.update(contentTypes)\n      });\n  }\n\n  getElement() {\n    return this.view.getElement();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/content-type-section/content-type-section.js","import {Eventful} from '../mixins/eventful';\n\nexport default class ContentBrowserView {\n  constructor(state) {\n    this.state = state;\n\n    // add event system\n    Object.assign(this, Eventful());\n\n    this.rootElement = document.createElement('div');\n    this.rootElement.appendChild(this.renderMenuGroup());\n  }\n\n  /**\n   * Adds a listener to the input field, and registers a callback with it\n   *\n   * @param {function} callback\n   * @param {object} [scope]\n   */\n  onInputFieldKeyDown(callback, scope) {\n    this.inputFieldElement.addEventListener('keyup', event => {\n      callback.call(scope || this, event.target.value, this.inputFieldElement);\n    });\n  }\n\n  renderMenuItem(title, index) {\n    const element = document.createElement('li');\n    element.setAttribute('role', 'menuitem');\n    element.innerHTML = title;\n\n    //TODO remove after demo\n    if (index === 0) {\n      element.setAttribute('aria-selected', 'true');\n    }\n\n    return element;\n  };\n\n  /*\n  *   <nav>\n   <ul role=\"menubar\" class=\"h5p-menu\">\n   <li role=\"menuitem\" aria-selected=\"true\">My Content Types</li>\n   <li role=\"menuitem\">Newest</li>\n   <li role=\"menuitem\">Most Popular</li>\n   <li role=\"menuitem\">Recomended</li>\n   </ul>\n   </nav>\n  * */\n\n  renderMenu(state) {\n    /**\n     * @type {HTMLElement}\n     */\n    const menubar = document.createElement('ul');\n    menubar.setAttribute('role', 'menubar');\n    menubar.className = 'h5p-menu';\n\n    let menuItems = ['My Content Types', 'Newest', 'Most Popular', 'Reccomended'];\n    menuItems\n      .map(this.renderMenuItem)\n      .forEach(menubar.appendChild.bind(menubar));\n\n    /**\n     * @type {HTMLElement}\n     */\n    const menuItemListWrapper = document.createElement('nav');\n    menuItemListWrapper.appendChild(menubar);\n\n    /**\n     * @type {HTMLElement}\n     */\n    const menuTitle = document.createElement('div');\n    menuTitle.className = \"menu-title\";\n    menuTitle.innerHTML = \"Browse content types\";\n\n    /**\n     * @type {HTMLElement}\n     */\n    const menu = document.createElement('div');\n    menu.className = \"menu\";\n    menu.appendChild(menuTitle);\n    menu.appendChild(menuItemListWrapper);\n\n    return menu;\n  }\n\n  renderMenuGroup() {\n    const menuGroup = document.createElement('div');\n    menuGroup.className = 'menu-group';\n    const menu = this.renderMenu();\n    const inputGroup = this.renderInputGroup();\n    menuGroup.appendChild(menu);\n    menuGroup.appendChild(inputGroup);\n    return menuGroup;\n  }\n\n  renderInputField() {\n    const inputField = document.createElement('input');\n    inputField.className = 'hub-search shadow';\n    inputField.setAttribute('type', 'text');\n    inputField.setAttribute('placeholder', \"Search for Content Types\");\n    this.inputFieldElement = inputField;\n    return inputField;\n  }\n\n  renderInputButton(title) {\n    const inputButton = document.createElement('div');\n    inputButton.className = 'input-button icon-search';\n    return inputButton;\n  }\n\n  renderInputGroup(buttonTitle) {\n    const inputGroup = document.createElement('div');\n    inputGroup.className = 'input-group rounded shadow';\n    inputGroup.appendChild(this.renderInputField());\n    inputGroup.appendChild(this.renderInputButton(buttonTitle));\n\n    const inputGroupWrapper = document.createElement('div');\n    inputGroupWrapper.className = 'input-group-wrapper rounded';\n    inputGroupWrapper.appendChild(inputGroup);\n\n    return inputGroupWrapper;\n  }\n\n  /**\n   * Returns the root element of the content browser\n   *\n   * @return {HTMLElement}\n   */\n  getElement() {\n    return this.rootElement;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/content-type-section/content-type-section-view.js","/**\n * @mixin\n */\nexport const Eventful = () => ({\n  listeners: {},\n\n  /**\n   * Listen to event\n   *\n   * @param {string} type\n   * @param {function} listener\n   * @param {object} [scope]\n   *\n   * @function\n   */\n  on: function(type, listener, scope) {\n    /**\n     * @typedef {object} Trigger\n     * @property {function} listener\n     * @property {object} scope\n     */\n    const trigger = {\n      'listener': listener,\n      'scope': scope\n    };\n\n    this.listeners[type] = this.listeners[type] || [];\n    this.listeners[type].push(trigger);\n  },\n\n  /**\n   * Fire event. If any of the listeners returns false, return false\n   *\n   * @param {string} type\n   * @param {object} event\n   *\n   * @function\n   * @return {boolean}\n   */\n  fire: function(type, event) {\n    const triggers = this.listeners[type] || [];\n\n    return triggers.every(function(trigger) {\n      return trigger.listener.call(trigger.scope || this, event) !== false;\n    });\n  },\n\n  /**\n   * Listens for events on another Eventful, and propagate it trough this Eventful\n   *\n   * @param {string[]} types\n   * @param {Eventful} eventful\n   */\n  propagate: function(types, eventful) {\n    let self = this;\n    types.forEach(type => eventful.on(type, event => self.fire(type, event)));\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/mixins/eventful.js","import {curry} from \"../../../node_modules/h5p-sdk/src/scripts/utils/functional\"\nimport HubServices from \"../hub-services\";\n\n/**\n * Checks if a needle is found in the haystack.\n * Not case sensitive\n *\n * @param {string} needle\n * @param {string} haystack\n * @return {boolean}\n */\nconst hasSubString = function(needle, haystack) {\n  return haystack.toLowerCase().indexOf(needle.toLowerCase()) !== -1;\n};\n\n/**\n * Filters a list of content types based on a query\n * @type {Function}\n *\n * @param {string} query\n * @param {ContentType[]} contentTypes\n */\nconst filterByQuery = curry(function(query, contentTypes) {\n  return contentTypes\n    .filter(contentType => hasSubString(query, contentType.title) || hasSubString(query, contentType.shortDescription));\n});\n\n/**\n * @class\n */\nexport default class SearchService {\n  constructor() {\n    this.services = new HubServices({\n      rootUrl: '/test/mock/api'\n    });\n\n    this.contentTypes = this.services.contentTypes();\n  }\n\n  /**\n   * Performs a search\n   *\n   * @param {String} query\n   *\n   * @return {Promise<ContentType[]>}\n   */\n  search(query) {\n    return this.contentTypes.then(filterByQuery(query));\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/search/search.js","/**\n * @typedef {object} ContentType\n * @property {string} id\n * @property {string} title\n * @property {string} shortDescription\n * @property {string} longDescription\n * @property {string} icon\n * @property {string} created\n * @property {string} update\n * @property {boolean} recommended\n * @property {number} timesDownloaded\n * @property {string[]} screenshots\n * @property {string} exampleContent\n * @property {string[]} keywords\n * @property {string[]} categories\n * @property {string} license\n */\n\nexport default class HubServices {\n  /**\n   * @param {string} rootUrl\n   */\n  constructor({ rootUrl }) {\n    this.rootUrl = rootUrl;\n  }\n\n  /**\n   * Returns a list of content types\n   *\n   * @return {Promise.<ContentType[]>}\n   */\n  contentTypes() {\n    return fetch(`${this.rootUrl}/contenttypes`)\n      .then(result => result.json());\n  }\n\n  /**\n   * Returns a Content Type\n   *\n   * @param {string} id\n   *\n   * @return {Promise.<ContentType>}\n   */\n  contentType(id) {\n    return fetch(`${this.rootUrl}/contenttypes/${id}`)\n      .then(result => result.json());\n  }\n\n  /**\n   * Installs a content type on the server\n   *\n   * @param {string} id\n   *\n   * @return {Promise.<ContentType>}\n   */\n  installContentType(id) {\n    return fetch(`${this.rootUrl}/contenttypes/${id}/install`)\n      .then(result => result.json());\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/hub-services.js","import ContetTypeListView from \"./content-type-list-view\";\nimport {Eventful} from '../mixins/eventful';\n\n/**\n * @class\n * @mixes Eventful\n */\nexport default class ContentTypeList {\n  constructor(state) {\n    // add event system\n    Object.assign(this, Eventful());\n\n    // add the view\n    this.view = new ContetTypeListView(state);\n    this.propagate(['row-selected', 'select'], this.view);\n  }\n\n  hide() {\n    this.view.hide();\n  }\n\n  show() {\n    this.view.show();\n  }\n\n  /**\n   *\n   * @param {ContentType[]} contentTypes\n   */\n  update(contentTypes) {\n    this.view.updateList(contentTypes);\n  }\n\n  getElement() {\n    return this.view.getElement();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/content-type-list/content-type-list.js","import { curry } from \"../../../node_modules/h5p-sdk/src/scripts/utils/functional\";\nimport { setAttribute, getAttribute } from \"../../../node_modules/h5p-sdk/src/scripts/utils/elements\";\nimport { Eventful } from '../mixins/eventful';\n\n/**\n * @constant {string}\n */\nconst ATTRIBUTE_CONTENT_TYPE_ID = 'data-id';\n\n/**\n * @function\n */\nconst hide = setAttribute('aria-hidden', 'true');\n\n/**\n * @function\n */\nconst show = setAttribute('aria-hidden', 'false');\n\n/**\n * Propagates row selection trough the event system\n *\n * @param {Eventful} eventful\n * @param {HTMLElement} element\n *\n * @function\n * @return {HTMLElement}\n */\nconst relayClickEventAs = curry(function(type, eventful, element) {\n  element.addEventListener('click', event => {\n    eventful.fire(type, {\n      element: element,\n      id: getAttribute(ATTRIBUTE_CONTENT_TYPE_ID, element)\n    }, false);\n\n    event.preventDefault();\n  });\n\n  return element;\n});\n\n/**\n * @class\n * @mixes Eventful\n */\nexport default class ContentTypeListView {\n  constructor(state) {\n    this.state = state;\n\n    // add event system\n    Object.assign(this, Eventful());\n\n    // create root element\n    this.rootElement = document.createElement('ul');\n    this.rootElement.className = 'content-type-list';\n  }\n\n  /**\n   * Hides the root element\n   */\n  hide() {\n    hide(this.rootElement);\n  }\n\n  /**\n   * Shows the root element\n   */\n  show() {\n    show(this.rootElement);\n  }\n\n  /**\n   *\n   * @param {ContentType[]} contentTypes\n   */\n  updateList(contentTypes) {\n    if(this.listElement){\n      this.rootElement.childNodes.forEach(node => node.remove());\n    }\n\n    this.renderContentTypeList(contentTypes)\n      .forEach(this.rootElement.appendChild.bind(this.rootElement));\n  }\n\n  /**\n   * Applies create rows, and add to the list\n   *\n   * @param {ContentType[]} contentTypes\n   *\n   * @return {HTMLElement[]}\n   */\n  renderContentTypeList(contentTypes) {\n    return contentTypes\n      .map(this.renderContentTypeRow.bind(this))\n      .map(relayClickEventAs('row-selected', this))\n  }\n\n  /**\n   * Takes a Content Type configuration and creates a row dom\n   *\n   * @param {ContentType} contentType\n   *\n   * @return {HTMLElement}\n   */\n  renderContentTypeRow(contentType) {\n    // image\n    const image = document.createElement('img');\n    image.setAttribute('src', contentType.icon);\n\n    // button\n    const button = document.createElement('span');\n    button.className = \"button button-primary\";\n    button.innerHTML = \"Use\";\n    button.setAttribute(ATTRIBUTE_CONTENT_TYPE_ID, contentType.id);\n    relayClickEventAs('select', this, button);\n\n    // title\n    const title = document.createElement('div');\n    title.className = 'content-type-list-title';\n    title.innerHTML = contentType.title;\n\n    // description\n    const description = document.createElement('div');\n    description.className = 'content-type-list-description';\n    description.innerHTML = contentType.shortDescription;\n\n    // list item\n    const row = document.createElement('li');\n    row.id = `content-type-${contentType.id}`;\n    row.setAttribute(ATTRIBUTE_CONTENT_TYPE_ID, contentType.id);\n    row.appendChild(image);\n    row.appendChild(button);\n    row.appendChild(title);\n    row.appendChild(description);\n\n    return row;\n  }\n\n  getElement() {\n    return this.rootElement;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/content-type-list/content-type-list-view.js","import ContetTypeDetailView from \"./content-type-detail-view\";\nimport HubServices from \"../hub-services\";\nimport { Eventful } from '../mixins/eventful';\n\n/**\n * @class\n * @mixes Eventful\n */\nexport default class ContentTypeDetail {\n  constructor(state) {\n    // add event system\n    Object.assign(this, Eventful());\n\n    // services\n    this.services = new HubServices({\n      rootUrl: '/test/mock/api'\n    });\n\n    // views\n    this.view = new ContetTypeDetailView(state);\n    this.view.on('install', this.install, this);\n\n    // propagate events\n    this.propagate(['close', 'select'], this.view);\n  }\n\n  /**\n   * Hides the detail view\n   */\n  hide() {\n    this.view.hide();\n  }\n\n  /**\n   * Shows the detail view\n   */\n  show() {\n    this.view.show();\n  }\n\n  /**\n   * Loads a Content Type description\n   *\n   * @param {string} id\n   *\n   * @return {Promise.<ContentType>}\n   */\n  loadById(id) {\n    this.services.contentType(id)\n      .then(this.update.bind(this))\n  }\n\n  /**\n   * Loads a Content Type description\n   *\n   * @param {string} id\n   *\n   * @return {Promise.<ContentType>}\n   */\n  install({ id }) {\n    return this.services.installContentType(id)\n      .then(contentType => console.debug('TODO, gui updates'))\n  }\n\n  /**\n   * Updates the view with the content type data\n   *\n   * @param {ContentType} contentType\n   */\n  update(contentType) {\n    this.view.setId(contentType.id);\n    this.view.setTitle(contentType.title);\n    this.view.setLongDescription(contentType.longDescription);\n    this.view.setImage(contentType.icon);\n  }\n\n  /**\n   * Returns the root html element\n   *\n   * @return {HTMLElement}\n   */\n  getElement() {\n    return this.view.getElement();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/content-type-detail/content-type-detail.js","import { setAttribute, getAttribute } from \"../../../node_modules/h5p-sdk/src/scripts/utils/elements\";\nimport { curry } from \"../../../node_modules/h5p-sdk/src/scripts/utils/functional\";\nimport { Eventful } from '../mixins/eventful';\nimport initPanel from \"../../../node_modules/h5p-sdk/src/scripts/components/panel\"\n\n/**\n * @constant {string}\n */\nconst ATTRIBUTE_CONTENT_TYPE_ID = 'data-id';\n\n/**\n * @function\n */\nconst hide = setAttribute('aria-hidden', 'true');\n\n/**\n * @function\n */\nconst show = setAttribute('aria-hidden', 'false');\n\n/**\n * Propagates row selection trough the event system\n *\n * @param {Eventful} eventful\n * @param {HTMLElement} element\n *\n * @function\n * @return {HTMLElement}\n */\nconst relayClickEventAs = curry(function(type, eventful, element) {\n  element.addEventListener('click', event => {\n    eventful.fire(type, {\n      element: element,\n      id: getAttribute(ATTRIBUTE_CONTENT_TYPE_ID, element)\n    })\n  });\n\n  return element;\n});\n\nexport default class ContentTypeDetailView {\n  constructor(state) {\n    // add event system\n    Object.assign(this, Eventful());\n\n    // image\n    this.imageElement = document.createElement('img');\n    this.imageElement.className = 'img-responsive';\n\n    // title\n    this.titleElement = document.createElement('h2');\n    this.titleElement.className = 'content-type-detail';\n    this.titleElement.innerHTML = 'title';\n\n    // back button\n    const backButtonElement = document.createElement('div');\n    backButtonElement.className = 'back-button';\n    backButtonElement.innerHTML = '<-';\n    relayClickEventAs('close', this, backButtonElement);\n\n    // detail\n    this.longDescriptioneElement = document.createElement('div');\n    this.longDescriptioneElement.className = 'content-type-detail';\n    this.longDescriptioneElement.innerHTML = 'description';\n\n    // demo button\n    const demoButton = document.createElement('span');\n    demoButton.className = 'button';\n    demoButton.innerHTML = 'Content Demo';\n    relayClickEventAs('select', this, demoButton);\n\n    // use button\n    this.useButton = document.createElement('span');\n    this.useButton.className = 'button';\n    this.useButton.innerHTML = 'Use';\n    relayClickEventAs('select', this, this.useButton);\n\n    // install button\n    this.installButton = document.createElement('span');\n    this.installButton.className = 'button button-inverse';\n    this.installButton.innerHTML = 'Install';\n    relayClickEventAs('install', this, this.installButton);\n\n    // licence panel\n    const licencePanel = this.createPanel('The Licence Info', 'ipsum lorum', 'licence-panel');\n\n    // panel group\n    const panelGroupElement = document.createElement('div');\n    panelGroupElement.className = 'panel-group';\n    panelGroupElement.appendChild(licencePanel);\n\n    // add root element\n    this.rootElement = document.createElement('div');\n    this.rootElement.className = 'content-type-detail';\n    this.rootElement.setAttribute('aria-hidden', 'true');\n    this.rootElement.appendChild(backButtonElement);\n    this.rootElement.appendChild(this.imageElement);\n    this.rootElement.appendChild(this.titleElement);\n    this.rootElement.appendChild(this.longDescriptioneElement);\n    this.rootElement.appendChild(demoButton);\n    this.rootElement.appendChild(this.useButton);\n    this.rootElement.appendChild(this.installButton);\n    this.rootElement.appendChild(panelGroupElement);\n  }\n\n  /**\n   * Creates a panel\n   *\n   * @param {string} title\n   * @param {string} body\n   * @param {string} bodyId\n   *\n   * @return {HTMLElement}\n   */\n  createPanel(title, body, bodyId) {\n    const headerEl = document.createElement('div');\n    headerEl.className = 'panel-header';\n    headerEl.setAttribute('aria-expanded', 'false');\n    headerEl.setAttribute('aria-controls', bodyId);\n    headerEl.innerHTML = title;\n\n    const bodyInnerEl = document.createElement('div');\n    bodyInnerEl.className = 'panel-body-inner';\n    bodyInnerEl.innerHTML = body;\n\n    const bodyEl = document.createElement('div');\n    bodyEl.className = 'panel-body';\n    bodyEl.id = bodyId;\n    bodyEl.setAttribute('aria-hidden', 'true');\n    bodyEl.appendChild(bodyInnerEl);\n\n    const panelEl = document.createElement('div');\n    panelEl.className = 'panel';\n    panelEl.appendChild(headerEl);\n    panelEl.appendChild(bodyEl);\n\n    initPanel(panelEl);\n\n    return panelEl;\n  }\n\n  /**\n   * Sets the image\n   *\n   * @param {string} src\n   */\n  setImage(src) {\n    this.imageElement.setAttribute('src', src);\n  }\n\n  /**\n   * Sets the title\n   *\n   * @param {string} id\n   */\n  setId(id) {\n    this.installButton.setAttribute(ATTRIBUTE_CONTENT_TYPE_ID, id);\n    this.useButton.setAttribute(ATTRIBUTE_CONTENT_TYPE_ID, id);\n  }\n\n  /**\n   * Sets the title\n   *\n   * @param {string} title\n   */\n  setTitle(title) {\n    this.titleElement.innerHTML = title;\n  }\n\n  /**\n   * Sets the long description\n   *\n   * @param {string} text\n   */\n  setLongDescription(text) {\n    this.longDescriptioneElement.innerHTML = text;\n  }\n\n  /**\n   * Hides the root element\n   */\n  hide() {\n    hide(this.rootElement);\n  }\n\n  /**\n   * Shows the root element\n   */\n  show() {\n    show(this.rootElement);\n  }\n\n  /**\n   * Returns the root html element\n   * @return {HTMLElement}\n   */\n  getElement() {\n    return this.rootElement;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/content-type-detail/content-type-detail-view.js","/**\n * @class\n */\nexport default class UploadSection {\n  getElement() {\n    const element = document.createElement('div');\n    element.innerHTML = \"TODO Upload\";\n    return element;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/upload-section/upload-section.js"],"sourceRoot":""}